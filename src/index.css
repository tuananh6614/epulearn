
/* Import theme and animations */
@import './styles/theme.css';
@import './styles/animations.css';

/* Base typography styles */
@layer base {
  * {
    @apply border-border;
  }

  html {
    @apply scroll-smooth;
  }
  
  /* Better text rendering */
  body {
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    @apply transition-colors duration-500;
  }
  
  /* Smooth theme transition */
  *, *::before, *::after {
    transition-property: background-color, border-color, color, fill, stroke;
    transition-duration: 0.5s;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Exceptions to transitions for performance */
  button, a, .parallax-element, .gpu-accelerated {
    transition-property: transform, opacity;
  }

  /* Fixed header when scrolling */
  .header-sticky {
    @apply fixed top-0 w-full z-50 bg-background/95 dark:bg-background/95 backdrop-blur-lg shadow-sm transition-all duration-300;
  }
  
  /* Darker backgrounds in dark mode */
  .dark .bg-background, 
  .dark .bg-white,
  .dark .bg-gray-50,
  .dark .bg-gray-100 {
    @apply bg-[#0a0c12] !important;
  }
  
  /* Fixed the circular dependency by using direct color value instead of @apply */
  .dark .bg-gray-900 {
    background-color: #000000 !important; /* Using black directly instead of @apply bg-black */
  }
  
  /* Fix white backgrounds in light blue buttons */
  .interactive-button {
    @apply relative overflow-hidden;
  }
  
  .dark .interactive-button {
    @apply bg-opacity-100 text-white;
  }
  
  /* Ensure text is visible in dark mode */
  .dark .text-gray-600,
  .dark .text-gray-700,
  .dark .text-gray-800 {
    @apply text-gray-200 !important;
  }
  
  .dark .text-gray-500 {
    @apply text-gray-300 !important;
  }
}

/* Code syntax highlighting */
.language-code {
  @apply block;
}

.language-code .keyword {
  @apply text-purple-600 dark:text-purple-400;
}

.language-code .function {
  @apply text-blue-600 dark:text-blue-400;
}

.language-code .string {
  @apply text-green-600 dark:text-green-400;
}

.language-code .comment {
  @apply text-gray-500 dark:text-gray-400;
}

.language-code .number {
  @apply text-orange-600 dark:text-orange-400;
}

/* Code editor styles */
.code-container {
  @apply relative font-mono text-sm rounded-md overflow-hidden;
}

.code-line {
  @apply cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800/70 transition-colors;
}

.highlighted-line {
  @apply bg-green-100 dark:bg-green-900/30;
}

/* Theme toggle transitions */
.theme-toggle::before {
  content: '';
  @apply absolute inset-0 rounded-full scale-0 opacity-0 transition-all duration-700;
}

.theme-toggle:active::before {
  @apply scale-[2.5] opacity-30 bg-gradient-to-r from-yellow-300 to-amber-500 dark:from-indigo-600 dark:to-violet-600;
}

/* Dark mode transition overlay */
.theme-transition-overlay {
  @apply fixed inset-0 z-[9999] pointer-events-none;
  transition: opacity 0.8s ease;
}

/* Improved course card styles */
.course-card {
  @apply overflow-hidden rounded-xl shadow-sm hover:shadow-xl transition-all duration-500;
}

.course-card:hover .card-img {
  @apply scale-110;
}

.card-img {
  @apply transition-transform duration-500;
}

/* Course card text contrast improvements */
.dark .course-card .text-gray-600 {
  @apply text-gray-300;
}

.dark .course-card .text-gray-500 {
  @apply text-gray-400;
}

.dark .course-card h3 {
  @apply text-white;
}

/* Sticky header styles */
.header-sticky {
  @apply sticky top-0 z-50 w-full transition-all duration-300;
  backdrop-filter: blur(10px);
}

.header-sticky.scrolled {
  @apply shadow-md;
}

/* Mobile Menu styles */
.mobile-menu {
  @apply fixed inset-0 z-50 bg-background/95 dark:bg-gray-900/95 backdrop-blur-md flex flex-col items-center justify-center;
  transform: translateX(-100%);
  transition: transform 0.3s ease;
}

.mobile-menu.open {
  transform: translateX(0);
}

/* Improved hover effects */
.hover-lift {
  @apply transition-transform duration-300 hover:-translate-y-1;
}

.hover-scale {
  @apply transition-transform duration-300 hover:scale-105;
}

/* Firefly container styles */
.firefly-container {
  @apply fixed inset-0 pointer-events-none z-0 overflow-hidden;
}

/* Enhanced text contrast in dark mode */
.dark .text-gray-600,
.dark .text-gray-700,
.dark .text-gray-800 {
  @apply text-gray-300 !important;
}

.dark .text-gray-500 {
  @apply text-gray-400 !important;
}

/* Main content adjustment for fixed header */
main {
  padding-top: 4rem; /* Compensate for fixed header */
}

/* Enhanced firefly effect */
.firefly {
  @apply fixed rounded-full pointer-events-none;
  background-color: rgba(255, 235, 156, 0.8);
  box-shadow: 0 0 25px 8px rgba(255, 235, 156, 0.5);
  animation: firefly-move 6s ease-in-out infinite;
  z-index: 0;
}

/* Fix for white backgrounds in dark mode */
.dark .from-background,
.dark .to-gray-50 {
  --tw-gradient-from: #0a0c12 !important;
  --tw-gradient-to: #050608 !important;
}

.dark .bg-gradient-to-b {
  background-image: linear-gradient(to bottom, var(--tw-gradient-from), var(--tw-gradient-to)) !important;
}

/* Fix for blue/white text in dark mode */
.dark .text-epu-blue {
  @apply text-blue-300 !important;
}

.dark .bg-white {
  @apply bg-[#0a0c12] !important;
}

/* Fix for any remaining white backgrounds */
.dark .bg-gray-50, 
.dark .bg-gray-100,
.dark .bg-gray-200 {
  @apply bg-gray-900 !important;
}

/* Improved button contrast in dark mode */
.dark .border-epu-blue {
  @apply border-blue-400 !important;
}
