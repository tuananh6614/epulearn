
@tailwind utilities;
@tailwind components;

/* Floating and rotation animations */
@keyframes float {
  0%, 100% {
    transform: translateY(0) rotate(0deg);
  }
  25% {
    transform: translateY(-10px) rotate(-2deg);
  }
  50% {
    transform: translateY(5px) rotate(2deg);
  }
  75% {
    transform: translateY(-5px) rotate(-1deg);
  }
}

@keyframes rotate-slow {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Pulse and glow animations */
@keyframes pulse-light {
  0%, 100% {
    opacity: 0.5;
  }
  50% {
    opacity: 0.8;
  }
}

@keyframes glow {
  0%, 100% {
    box-shadow: 0 0 10px rgba(124, 179, 66, 0.5);
  }
  50% {
    box-shadow: 0 0 20px rgba(124, 179, 66, 0.8);
  }
}

/* Firefly animation with enhanced glow effect */
@keyframes firefly-move {
  0% {
    transform: translateX(0) translateY(0) scale(0);
    opacity: 0;
    filter: blur(0);
  }
  50% {
    opacity: 1;
    filter: blur(1px);
  }
  100% {
    transform: translateX(var(--x)) translateY(var(--y)) scale(1);
    opacity: 0;
    filter: blur(0);
  }
}

/* Light mode particle animation */
@keyframes float-particle {
  0% {
    transform: translate(0, 0) rotate(var(--rotation-start));
    opacity: 0;
  }
  25% {
    opacity: 0.8;
  }
  50% {
    transform: translate(var(--x, 100px), var(--y, -100px)) rotate(var(--rotation-end));
    opacity: 0.6;
  }
  75% {
    opacity: 0.8;
  }
  100% {
    transform: translate(var(--x2, -100px), var(--y2, 100px)) rotate(var(--rotation-start));
    opacity: 0;
  }
}

/* Text animations */
@keyframes typing {
  from { width: 0 }
  to { width: 100% }
}

@keyframes blink-caret {
  from, to { border-color: transparent }
  50% { border-color: var(--primary) }
}

/* Theme transition animations */
@keyframes theme-transition {
  0% { opacity: 0; }
  100% { opacity: 1; }
}

@keyframes dark-fragments-in {
  0% { 
    clip-path: polygon(
      50% 0%, 0% 0%, 0% 100%, 100% 100%, 100% 0%, 50% 0%, 
      60% 10%, 40% 10%, 30% 20%, 70% 20%, 80% 30%, 20% 30%, 
      10% 40%, 90% 40%, 85% 50%, 15% 50%, 20% 60%, 80% 60%, 
      30% 70%, 70% 70%, 40% 80%, 60% 80%, 50% 90%
    );
    background-color: rgba(0, 0, 0, 0);
  }
  50% {
    clip-path: polygon(
      50% 0%, 0% 0%, 0% 100%, 100% 100%, 100% 0%, 50% 0%, 
      55% 10%, 45% 10%, 40% 20%, 60% 20%, 65% 30%, 35% 30%, 
      30% 40%, 70% 40%, 65% 50%, 35% 50%, 40% 60%, 60% 60%, 
      45% 70%, 55% 70%, 48% 80%, 52% 80%, 50% 90%
    );
    background-color: rgba(0, 0, 0, 0.5);
  }
  100% { 
    clip-path: circle(150% at 50% 50%); 
    background-color: rgba(0, 0, 0, 0.95);
  }
}

@keyframes light-fragments-out {
  0% { 
    clip-path: circle(150% at 50% 50%);
    background-color: rgba(0, 0, 0, 0.95);
  }
  50% {
    clip-path: polygon(
      50% 0%, 0% 0%, 0% 100%, 100% 100%, 100% 0%, 50% 0%, 
      55% 10%, 45% 10%, 40% 20%, 60% 20%, 65% 30%, 35% 30%, 
      30% 40%, 70% 40%, 65% 50%, 35% 50%, 40% 60%, 60% 60%, 
      45% 70%, 55% 70%, 48% 80%, 52% 80%, 50% 90%
    );
    background-color: rgba(0, 0, 0, 0.5);
  }
  100% { 
    clip-path: polygon(
      50% 0%, 0% 0%, 0% 100%, 100% 100%, 100% 0%, 50% 0%, 
      60% 10%, 40% 10%, 30% 20%, 70% 20%, 80% 30%, 20% 30%, 
      10% 40%, 90% 40%, 85% 50%, 15% 50%, 20% 60%, 80% 60%, 
      30% 70%, 70% 70%, 40% 80%, 60% 80%, 50% 90%
    ); 
    background-color: rgba(0, 0, 0, 0);
  }
}

.dark-transition {
  animation: theme-transition 0.5s ease-out;
}

/* Parallax utility class */
.parallax-element {
  will-change: transform;
  transform: translateZ(0);
}

/* Loading animations */
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.shimmer {
  background: linear-gradient(90deg, 
    rgba(255, 255, 255, 0.1) 8%, 
    rgba(255, 255, 255, 0.2) 18%, 
    rgba(255, 255, 255, 0.1) 33%);
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
  @apply rounded-lg;
}

/* Clickable elements */
.clickable {
  @apply relative overflow-hidden;
}

.clickable::after {
  content: '';
  @apply absolute w-0 h-0 rounded-full bg-primary opacity-30;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  transition: width 0.5s, height 0.5s;
}

.clickable:active::after {
  @apply w-[300px] h-[300px] opacity-0;
  transition: 0s;
}

/* 3D effects for parallax */
.transform-3d {
  transform-style: preserve-3d;
  perspective: 1000px;
}

.layer-1 {
  transform: translateZ(20px);
}

.layer-2 {
  transform: translateZ(40px);
}

.layer-3 {
  transform: translateZ(60px);
}

/* Course card hover effects */
.course-card {
  @apply transition-all duration-300;
}

.course-card:hover {
  @apply shadow-xl;
}

.course-card:hover .course-card-image {
  transform: scale(1.05);
}

.course-card-image {
  @apply transition-transform duration-300;
}

/* Animation delay utilities */
.animation-delay-100 {
  animation-delay: 100ms;
}

.animation-delay-200 {
  animation-delay: 200ms;
}

.animation-delay-300 {
  animation-delay: 300ms;
}

.animation-delay-500 {
  animation-delay: 500ms;
}

.animation-delay-700 {
  animation-delay: 700ms;
}

.animation-delay-1000 {
  animation-delay: 1000ms;
}

/* Mobile responsive utility classes */
@media (max-width: 768px) {
  .mobile-stack {
    @apply flex-col;
  }
  
  .mobile-hidden {
    @apply hidden;
  }
  
  .mobile-full-width {
    @apply w-full;
  }
  
  .mobile-text-center {
    @apply text-center;
  }
  
  .mobile-p-4 {
    @apply p-4;
  }
}

/* Performance optimizations */
.gpu-accelerated {
  will-change: transform;
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* Lazy load animation */
.lazy-fade-in {
  opacity: 0;
  transition: opacity 0.5s ease-in-out;
}

.lazy-loaded {
  opacity: 1;
}

/* Theme toggle specific animations */
@keyframes sun-rise {
  from { transform: rotate(-45deg) scale(0.3); opacity: 0; }
  to { transform: rotate(0) scale(1); opacity: 1; }
}

@keyframes moon-rise {
  from { transform: rotate(45deg) scale(0.3); opacity: 0; }
  to { transform: rotate(0) scale(1); opacity: 1; }
}

.sun-icon {
  animation: sun-rise 0.5s ease-out;
}

.moon-icon {
  animation: moon-rise 0.5s ease-out;
}

/* Code highlight transition */
.code-line-highlight-transition {
  transition: background-color 0.3s ease;
}

/* Button hover effects */
.btn-hover-effect {
  @apply relative overflow-hidden;
}

.btn-hover-effect::before {
  content: '';
  @apply absolute inset-0 bg-white/20 scale-x-0 origin-left transition-transform duration-300;
}

.btn-hover-effect:hover::before {
  @apply scale-x-100;
}

/* Dark mode firefly effect - enhanced */
.firefly {
  position: absolute;
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background-color: rgba(255, 235, 156, 0.8);
  box-shadow: 0 0 25px 8px rgba(255, 235, 156, 0.5);
  animation-name: firefly-move;
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
  pointer-events: none;
}

/* Light mode colorful floating particles */
.particle-light {
  position: absolute;
  border-radius: 40%;
  opacity: 0;
  filter: blur(3px);
  animation: float-particle 25s ease-in-out infinite;
  pointer-events: none;
  mix-blend-mode: soft-light;
}

.particle-light::before {
  content: '';
  position: absolute;
  inset: -10%;
  border-radius: inherit;
  background: inherit;
  filter: blur(5px);
  opacity: 0.7;
}
